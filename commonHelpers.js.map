{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43997870-ac002090f9f8b16e802d8cd1f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByPixabay = (query) => {\n    const searchParams = new URLSearchParams({\n        q: query,\n        key: API_KEY,\n        image_type: 'photo',\n        safesearch: 'true',\n        orientation: 'horizontal',\n        height: '200px'\n    })\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error();\n        }\n        return response.json();\n    })\n}\n","export const createGallery = (images) => {\n    return images.map((image) => {\n    return `<li class=\"img-card\">\n            <a href=\"${image.largeImageURL}\" class=\"card-link\">\n                <img \n                class=\"img\"\n                src=\"${image.largeImageURL}\" \n                alt=\"${image.tags}\">\n            </a>\n        <ul class=\"params-list\">\n            <li class=\"params-items\">Likes</li>\n            <li class=\"params-items\">Views</li>\n            <li class=\"params-items\">Comments</li>\n            <li class=\"params-items\">Downloads</li>\n        </ul>\n        <ul class=\"params-list\">\n            <li class=\"params-item\">${image.likes}</li>\n            <li class=\"params-item\">${image.views}</li>\n            <li class=\"params-item\">${image.comments}</li>\n            <li class=\"params-item\">${image.downloads}</li>\n        </ul>`\n    }).join('');\n}\n","const refs = {\n    form: document.querySelector('.form'),\n    galleryList: document.querySelector('.card-list'),\n    loader: document.querySelector('.loader')\n}\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"; \nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { fetchPhotosByPixabay } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeywords.value.trim();\n    if (searchQuery === '') {\n        refs.galleryList.innerHTML = '';\n        event.target.reset()\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            maxWidth: '300px'\n        })\n        return\n    }\n    refs.loader.classList.remove('is-hidden');\n\n    fetchPhotosByPixabay(searchQuery)\n        .then(imagesData => {\n            if (imagesData.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                    maxWidth: '300px'\n                })\n            }\n            return imagesData;\n            refs.galleryList.innerHTML = '';\n        })\n        .then(imagesData => {\n            const markup = createGallery(imagesData.hits);\n            refs.galleryList.innerHTML = markup;\n            const lightbox = new SimpleLightbox('.card-list a');\n        })\n        .catch(error => {\n            console.error('Error:', error);\n            iziToast.error({\n                message: 'An error occurred while fetching images. Please try again later.',\n                position: 'topRight',\n                maxWidth: '300px'\n            });\n        })\n        .finally(() => {\n            event.target.reset()\n            refs.loader.classList.add('is-hidden');\n        })\n}\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n\n"],"names":["API_KEY","BASE_URL","fetchPhotosByPixabay","query","searchParams","response","createGallery","images","image","refs","onSearchFormSubmit","event","searchQuery","iziToast","imagesData","markup","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAwBC,GAAU,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,EAAGD,EACH,IAAKH,EACL,WAAY,QACZ,WAAY,OACZ,YAAa,aACb,OAAQ,OAChB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAEd,OAAOA,EAAS,MACxB,CAAK,CACL,ECnBaC,EAAiBC,GACnBA,EAAO,IAAKC,GACZ;AAAA,uBACYA,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGnBA,EAAM,aAAa;AAAA,uBACnBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCASKA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,sCACXA,EAAM,QAAQ;AAAA,sCACdA,EAAM,SAAS;AAAA,cAEhD,EAAE,KAAK,EAAE,ECrBRC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,YAAY,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAWA,SAASC,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,eAAe,MAAM,OAC/D,GAAIC,IAAgB,GAAI,CACpBH,EAAK,YAAY,UAAY,GAC7BE,EAAM,OAAO,MAAO,EACpBE,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,SAAU,OACtB,CAAS,EACD,MACH,CACDJ,EAAK,OAAO,UAAU,OAAO,WAAW,EAExCP,EAAqBU,CAAW,EAC3B,KAAKE,IACEA,EAAW,KAAK,SAAW,GAC3BD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,SAAU,OAC9B,CAAiB,EAEEC,EAEV,EACA,KAAKA,GAAc,CAChB,MAAMC,EAAST,EAAcQ,EAAW,IAAI,EAC5CL,EAAK,YAAY,UAAYM,EACZ,IAAIC,EAAe,cAAc,CAC9D,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,SAAUA,CAAK,EAC7BJ,EAAS,MAAM,CACX,QAAS,mEACT,SAAU,WACV,SAAU,OAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXF,EAAM,OAAO,MAAO,EACpBF,EAAK,OAAO,UAAU,IAAI,WAAW,CACjD,CAAS,CACT,CAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAkB"}