{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43997870-ac002090f9f8b16e802d8cd1f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByPixabay = (query) => {\n    const searchParams = new URLSearchParams({\n        q: query,\n        key: API_KEY,\n        image_type: 'photo',\n        safesearch: 'true',\n        orientation: 'horizontal',\n        height: '200px'\n    })\n\n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n        if (!response.ok) {\n            throw new Error();\n        }\n        return response.json();\n    })\n}\n","export const createGallery = (images) => {\n    return images.map((image) => {\n    return `<li class=\"img-card\">\n            <a href=\"${image.largeImageURL}\" class=\"card-link\">\n                <img \n                class=\"img\"\n                src=\"${image.largeImageURL}\" \n                alt=\"${image.tags}\">\n            </a>\n        <ul class=\"params-list\">\n            <li class=\"params-items\">Likes</li>\n            <li class=\"params-items\">Views</li>\n            <li class=\"params-items\">Comments</li>\n            <li class=\"params-items\">Downloads</li>\n        </ul>\n        <ul class=\"params-list\">\n            <li class=\"params-item\">${image.likes}</li>\n            <li class=\"params-item\">${image.views}</li>\n            <li class=\"params-item\">${image.comments}</li>\n            <li class=\"params-item\">${image.downloads}</li>\n        </ul>`\n    }).join('');\n}\n","const refs = {\n    form: document.querySelector('.form'),\n    galleryList: document.querySelector('.card-list'),\n    loader: document.querySelector('.loader')\n}\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\"; \nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchPhotosByPixabay } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\n\nconst lightbox = new SimpleLightbox('.card-list a');\n\nfunction showMessage(message, type = 'error') {\n    iziToast[type]({\n        message: message,\n        position: 'topRight',\n        maxWidth: '300px'\n    });\n}\n\nfunction onSearchFormSubmit(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeywords.value.trim();\n    if (searchQuery === '') {\n        showMessage('Sorry, there are no images matching your search query. Please try again!');\n        refs.galleryList.innerHTML = '';\n        return;\n    }\n    refs.loader.classList.remove('is-hidden');\n\n    fetchPhotosByPixabay(searchQuery)\n        .then(imagesData => {\n            if (imagesData.hits.length === 0) {\n                showMessage('Sorry, there are no images matching your search query. Please try again!');\n                refs.galleryList.innerHTML = '';\n                return;\n            }\n            return imagesData;\n        })\n        .then(imagesData => {\n            const markup = createGallery(imagesData.hits);\n            refs.galleryList.innerHTML = markup;\n            lightbox.refresh();\n        })\n        .catch(error => {})\n        .finally(() => {\n            event.target.reset();\n            refs.loader.classList.add('is-hidden');\n        });\n}\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchPhotosByPixabay","query","searchParams","response","createGallery","images","image","refs","lightbox","SimpleLightbox","showMessage","message","type","iziToast","onSearchFormSubmit","event","searchQuery","imagesData","markup","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAwBC,GAAU,CAC3C,MAAMC,EAAe,IAAI,gBAAgB,CACrC,EAAGD,EACH,IAAKH,EACL,WAAY,QACZ,WAAY,OACZ,YAAa,aACb,OAAQ,OAChB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAEd,OAAOA,EAAS,MACxB,CAAK,CACL,ECnBaC,EAAiBC,GACnBA,EAAO,IAAKC,GACZ;AAAA,uBACYA,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGnBA,EAAM,aAAa;AAAA,uBACnBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCASKA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,sCACXA,EAAM,QAAQ;AAAA,sCACdA,EAAM,SAAS;AAAA,cAEhD,EAAE,KAAK,EAAE,ECrBRC,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,YAAa,SAAS,cAAc,YAAY,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,EASMC,EAAW,IAAIC,EAAe,cAAc,EAElD,SAASC,EAAYC,EAASC,EAAO,QAAS,CAC1CC,EAASD,CAAI,EAAE,CACX,QAASD,EACT,SAAU,WACV,SAAU,OAClB,CAAK,CACL,CAEA,SAASG,EAAmBC,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,eAAe,MAAM,OAC/D,GAAIC,IAAgB,GAAI,CACpBN,EAAY,0EAA0E,EACtFH,EAAK,YAAY,UAAY,GAC7B,MACH,CACDA,EAAK,OAAO,UAAU,OAAO,WAAW,EAExCP,EAAqBgB,CAAW,EAC3B,KAAKC,GAAc,CAChB,GAAIA,EAAW,KAAK,SAAW,EAAG,CAC9BP,EAAY,0EAA0E,EACtFH,EAAK,YAAY,UAAY,GAC7B,MACH,CACD,OAAOU,CACnB,CAAS,EACA,KAAKA,GAAc,CAChB,MAAMC,EAASd,EAAca,EAAW,IAAI,EAC5CV,EAAK,YAAY,UAAYW,EAC7BV,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMW,GAAS,EAAE,EACjB,QAAQ,IAAM,CACXJ,EAAM,OAAO,QACbR,EAAK,OAAO,UAAU,IAAI,WAAW,CACjD,CAAS,CACT,CAEAA,EAAK,KAAK,iBAAiB,SAAUO,CAAkB"}